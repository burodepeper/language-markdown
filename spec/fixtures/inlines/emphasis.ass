# http://spec.commonmark.org/0.22/#emphasis-and-strong-emphasis

@313
"*foo bar*" {
  source.text.md {
    emphasis.italic.markup.md {
      "*": punctuation.md
      "foo bar"
      "*": punctuation.md
    }
  }
}

@314
"a * foo bar*": source.text.md

@315
"a*"foo"*": source.text.md

# NOTE
# The first space character is a non-breaking space, and as such this should
# NOT be a list-item. However, a non-breaking space is matched by the \s regexp
# operator, and I believe this is such an edge-case, that I'm not really going
# to worry about it that much. I'll leave it in as a reminder that it once
# worked ;) @burodepeper
#
# @316
# "* a *": source.text.md

@317
"foo*bar*" {
  source.text.md {
    "foo"
    emphasis.italic.markup.md {
      "*": punctuation.md
      "bar"
      "*": punctuation.md
    }
  }
}

@318
"5*6*78" {
  source.text.md {
    "5"
    emphasis.italic.markup.md {
      "*": punctuation.md
      "6"
      "*": punctuation.md
    }
    "78"
  }
}

@319
"_foo bar_" {
  source.text.md {
    emphasis.italic.markup.md {
      "_": punctuation.md
      "foo bar"
      "_": punctuation.md
    }
  }
}

@320
"_ foo bar_": source.text.md

@321
"a_"foo"_": source.text.md

@322
"foo_bar_": source.text.md

@323
"5_6_78": source.text.md

@324
"пристаням_стремятся_": source.text.md

@325
"aa_"bb"_cc": source.text.md

@326
"foo-_(bar)_" {
  source.text.md {
    "foo-"
    emphasis.italic.markup.md {
      "_": punctuation.md
      "(bar)"
      "_": punctuation.md
    }
  }
}

@327
"_foo*": source.text.md

@328
"*foo bar *": source.text.md

@329
"*foo bar\n*" {
  source.text.md {
    "*foo bar"
    empty.unordered.list.markup.md {
      "*": punctuation.md
    }
  }
}

@330
"*(*foo)": source.text.md

# FIXME
# @331
# "*(*foo*)*" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       "*": punctuation.md
#       "("
#       emphasis.italic.markup.md {
#         "*": punctuation.md
#         "foo"
#         "*": punctuation.md
#       }
#       ")"
#       "*": punctuation.md
#     }
#   }
# }

# NOTE
# Removed @332, because not relevant to syntax highlighting
# @burodepeper

@333
"_foo bar _": source.text.md

@334
"_(_foo)": source.text.md

# FIXME
# @335
# "_(_foo_)_" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       "_": punctuation.md
#       "("
#       emphasis.italic.markup.md {
#         "_": punctuation.md
#         "foo"
#         "_": punctuation.md
#       }
#       ")"
#       "_": punctuation.md
#     }
#   }
# }

@336
"_foo_bar": source.text.md

@337
"_пристаням_стремятся": source.text.md

@338
"_foo_bar_baz_" {
  source.text.md {
    emphasis.italic.markup.md {
      "_": punctuation.md
      "foo_bar_baz"
      "_": punctuation.md
    }
  }
}

@339
"_(bar)_." {
  source.text.md {
    emphasis.italic.markup.md {
      "_": punctuation.md
      "(bar)"
      "_": punctuation.md
    }
    "."
  }
}

@340
"**foo bar**" {
  source.text.md {
    strong.emphasis.bold.markup.md {
      "**": punctuation.md
      "foo bar"
      "**": punctuation.md
    }
  }
}

@341
"** foo bar**": source.text.md

@342
"a**"foo"**": source.text.md

@343
"foo**bar**" {
  source.text.md {
    "foo"
    strong.emphasis.bold.markup.md {
      "**": punctuation.md
      "bar"
      "**": punctuation.md
    }
  }
}

@344
"__foo bar__" {
  source.text.md {
    strong.emphasis.bold.markup.md {
      "__": punctuation.md
      "foo bar"
      "__": punctuation.md
    }
  }
}

@345
"__ foo bar__": source.text.md

@346
"__\nfoo bar__" {
  source.text.md {
    "__"
    "foo bar__"
  }
}

@347
"a__"foo"__": source.text.md

@348
"foo__bar__": source.text.md

@349
"5__6__78": source.text.md

@350
"пристаням__стремятся__": source.text.md

# FIXME
# @351
# "__foo, __bar__, baz__" {
#   source.text.md {
#     strong.emphasis.bold.markup.md {
#       "__": punctuation.md
#       "foo, "
#       strong.emphasis.bold.markup.md {
#         "__": punctuation.md
#         "bar"
#         "__": punctuation.md
#       }
#       ", baz"
#       "__": punctuation.md
#     }
#   }
# }

@352
"foo-__(bar)__" {
  source.text.md {
    "foo-"
    strong.emphasis.bold.markup.md {
      "__": punctuation.md
      "(bar)"
      "__": punctuation.md
    }
  }
}

@353
"**foo bar **": source.text.md

@354
"**(**foo)": source.text.md

# FIXME
# @355
# "*(**foo**)*" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       "*": punctuation.md
#       "("
#       strong.emphasis.bold.markup.md {
#         "**": punctuation.md
#         "foo"
#         "**": punctuation.md
#       }
#       ")"
#       "*": punctuation.md
#     }
#   }
# }

# TODO multiline not supported
# @356a
# "**Gomphocarpus (*Gomphocarpus physocarpus*, syn."+
# "*Asclepias physocarpa*)**" {
#   source.text.md {
#     strong.emphasis.bold.markup.md {
#       "**": punctuation.md
#       "Gomphocarpus ("
#       emphasis.italic.markup.md {
#         "*": punctuation.md
#         "Gomphocarpus physocarpus"
#         "*": punctuation.md
#       }
#       ", syn."
#       emphasis.italic.markup.md {
#         "*": punctuation.md
#         "Asclepias physocarpa"
#         "*": punctuation.md
#       }
#       ")"
#       "**": punctuation.md
#     }
#   }
# }

@356b
"**Gomphocarpus (*Gomphocarpus physocarpus*, syn. *Asclepias physocarpa*)**" {
  source.text.md {
    strong.emphasis.bold.markup.md {
      "**": punctuation.md
      "Gomphocarpus ("
      emphasis.italic.markup.md {
        "*": punctuation.md
        "Gomphocarpus physocarpus"
        "*": punctuation.md
      }
      ", syn. "
      emphasis.italic.markup.md {
        "*": punctuation.md
        "Asclepias physocarpa"
        "*": punctuation.md
      }
      ")"
      "**": punctuation.md
    }
  }
}

@357
"**foo "*bar*" foo**" {
  source.text.md {
    strong.emphasis.bold.markup.md {
      "**": punctuation.md
      'foo "'
      emphasis.italic.markup.md {
        "*": punctuation.md
        "bar"
        "*": punctuation.md
      }
      '" foo'
      "**": punctuation.md
    }
  }
}

@358
"**foo**bar" {
  source.text.md {
    strong.emphasis.bold.markup.md {
      "**": punctuation.md
      'foo'
      "**": punctuation.md
    }
    "bar"
  }
}

@359
"__foo bar __": source.text.md

@360
"__(__foo)": source.text.md

# FIXME
# @361
# "_(__foo__)_" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       "_": punctuation.md
#       '('
#       strong.emphasis.bold.markup.md {
#         "__": punctuation.md
#         'foo'
#         "__": punctuation.md
#       }
#       ')'
#       "_": punctuation.md
#     }
#   }
# }

@362
"__foo__bar": source.text.md

@363
"__пристаням__стремятся": source.text.md

# FIXME
# @364
# "__foo__bar__baz__" {
#   source.text.md {
#     strong.emphasis.bold.markup.md {
#       "__": punctuation.md
#       'foo__bar_baz'
#       "__": punctuation.md
#     }
#   }
# }

@365
"__(bar)__." {
  source.text.md {
    strong.emphasis.bold.markup.md {
      "__": punctuation.md
      '(bar)'
      "__": punctuation.md
    }
    "."
  }
}

@366
"*foo [bar](/url)*" {
  source.text.md {
    emphasis.italic.markup.md {
      "*": punctuation.md
      'foo '
      link.markup.entity.md {
        text.link.string.md {
          "[": punctuation.md
          "bar"
          "]": punctuation.md
        }
        "(": punctuation.md
          destination.link.md {
            "/url": uri.underline.link.md
          }
        ")": punctuation.md
      }
      "*": punctuation.md
    }
  }
}

# TODO multiline
# @367
# "*foo\nbar*" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       "*": punctuation.md
#       'foo'
#       'bar'
#       "*": punctuation.md
#     }
#     .
#   }
# }

# FIXME
# @368
# "_foo __bar__ baz_" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       '_': punctuation.md
#       'foo '
#       strong.emphasis.bold.markup.md {
#         '__': punctuation.md
#         'bar'
#         '__': punctuation.md
#       }
#       ' baz'
#       '_': punctuation.md
#     }
#   }
# }

# FIXME
# @369
# "_foo _bar_ baz_" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       '_': punctuation.md
#       'foo '
#       emphasis.italic.markup.md {
#         '_': punctuation.md
#         'bar'
#         '_': punctuation.md
#       }
#       ' baz'
#       '_': punctuation.md
#     }
#   }
# }

# FIXME
# @370
# "__foo_ bar_" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       '_': punctuation.md
#       emphasis.italic.markup.md {
#         '_': punctuation.md
#         'foo'
#         '_': punctuation.md
#       }
#       ' bar'
#       '_': punctuation.md
#     }
#   }
# }

# FIXME
# @371
# "*foo *bar**" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       '*': punctuation.md
#       'foo '
#       emphasis.italic.markup.md {
#         '*': punctuation.md
#         'bar'
#         '*': punctuation.md
#       }
#       '*': punctuation.md
#     }
#   }
# }

# FIXME
# @372
# "*foo **bar** baz*" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       '*': punctuation.md
#       'foo '
#       strong.emphasis.bold.markup.md {
#         '**': punctuation.md
#         'bar'
#         '**': punctuation.md
#       }
#       ' baz'
#       '*': punctuation.md
#     }
#   }
# }

# FIXME
# @373
# "*foo**bar**baz*" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       '*': punctuation.md
#       'foo'
#       '*': punctuation.md
#       '*': punctuation.md
#       'bar'
#       '*': punctuation.md
#       '*': punctuation.md
#       'baz'
#       '*': punctuation.md
#     }
#   }
# }

# FIXME
# @374
# "***foo** bar*" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       "*": punctuation.md
#       strong.emphasis.bold.markup.md {
#         "**": punctuation.md
#         "foo"
#         "**": punctuation.md
#       }
#       " bar"
#       "*": punctuation.md
#     }
#   }
# }

# FIXME
# @375
# "*foo **bar***" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       "*": punctuation.md
#       "foo "
#       strong.emphasis.bold.markup.md {
#         "**": punctuation.md
#         "bar"
#         "**": punctuation.md
#       }
#       "*": punctuation.md
#     }
#   }
# }

# FIXME
# @376
# "*foo**bar***" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       "*": punctuation.md
#       "foo"
#       "*": punctuation.md
#       "*": punctuation.md
#       "bar"
#       "*": punctuation.md
#     }
#     "**"
#   }
# }

# FIXME
# @377
# "*foo **bar *baz* bim** bop*" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       "*": punctuation.md
#       "foo "
#       strong.emphasis.bold.markup.md {
#         "**": punctuation.md
#         "bar "
#         emphasis.italic.markup.md {
#           "*": punctuation.md
#           "baz"
#           "*": punctuation.md
#         }
#         " bim"
#         "**": punctuation.md
#       }
#       " bop"
#       "*": punctuation.md
#     }
#   }
# }

# FIXME
# @378
# "*foo [*bar*](/url)*" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       "*": punctuation.md
#       'foo '
#       link.md {
#         text.link.string.md {
#           "[": punctuation.md
#           emphasis.italic.markup.md {
#             "*": punctuation.md
#             "bar"
#             "*": punctuation.md
#           }
#           "]": punctuation.md
#         }
#         destination.link.md {
#           "(": punctuation.md
#           "/url": uri.underline.markup.md
#           ")": punctuation.md
#         }
#       }
#       "*": punctuation.md
#     }
#   }
# }

@379
"** is not an empty emphasis": source.text.md

@380
"**** is not an empty strong emphasis": source.text.md

@381
"**foo [bar](/url)**" {
  source.text.md {
    strong.emphasis.bold.markup.md {
      "**": punctuation.md
      'foo '
      link.markup.entity.md {
        text.link.string.md {
          "[": punctuation.md
          "bar"
          "]": punctuation.md
        }
        "(": punctuation.md
        destination.link.md {
          "/url": uri.underline.link.md
        }
        ")": punctuation.md
      }
      "**": punctuation.md
    }
  }
}

# FIXME multiline
# @382
# "**foo\nbar**" {
#   source.text.md {
#     strong.emphasis.bold.markup.md {
#       "**": punctuation.md
#       'foo'
#       'bar'
#       "**": punctuation.md
#     }
#   }
# }

@383
"__foo _bar_ baz__" {
  source.text.md {
    strong.emphasis.bold.markup.md {
      "__": punctuation.md
      'foo '
      emphasis.italic.markup.md {
        "_": punctuation.md
        "bar"
        "_": punctuation.md
      }
      ' baz'
      "__": punctuation.md
    }
  }
}

# FIXME
# @384
# "__foo __bar__ baz__" {
#   source.text.md {
#     strong.emphasis.bold.markup.md {
#       "__": punctuation.md
#       'foo '
#       strong.emphasis.bold.markup.md {
#         "__": punctuation.md
#         "bar"
#         "__": punctuation.md
#       }
#       ' baz'
#       "__": punctuation.md
#     }
#   }
# }

# FIXME
# @385
# "____foo__ bar__" {
#   source.text.md {
#     strong.emphasis.bold.markup.md {
#       "__": punctuation.md
#       strong.emphasis.bold.markup.md {
#         "__": punctuation.md
#         "foo"
#         "__": punctuation.md
#       }
#       ' bar'
#       "__": punctuation.md
#     }
#   }
# }

# FIXME
# @386
# "**foo **bar****" {
#   source.text.md {
#     strong.emphasis.bold.markup.md {
#       "**": punctuation.md
#       "foo "
#       strong.emphasis.bold.markup.md {
#         "**": punctuation.md
#         "bar"
#         "**": punctuation.md
#       }
#       "**": punctuation.md
#     }
#   }
# }

@387
"**foo *bar* baz**" {
  source.text.md {
    strong.emphasis.bold.markup.md {
      "**": punctuation.md
      "foo "
      emphasis.italic.markup.md {
        "*": punctuation.md
        "bar"
        "*": punctuation.md
      }
      " baz"
      "**": punctuation.md
    }
  }
}

# NOTE fuck off
# FIXME
# @388
# "**foo*bar*baz**" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       "*": punctuation.md
#       emphasis.italic.markup.md {
#         "*": punctuation.md
#         "foo"
#         "*": punctuation.md
#       }
#       "bar"
#       "*": punctuation.md
#     }
#     "baz**"
#   }
# }

@389
"***foo* bar**" {
  source.text.md {
    strong.emphasis.bold.markup.md {
      "**": punctuation.md
      emphasis.italic.markup.md {
        "*": punctuation.md
        "foo"
        "*": punctuation.md
      }
      " bar"
      "**": punctuation.md
    }
  }
}

# FIXME
# @390
# "**foo *bar***" {
#   source.text.md {
#     strong.emphasis.bold.markup.md {
#       "**": punctuation.md
#       "foo "
#       emphasis.italic.markup.md {
#         "*": punctuation.md
#         "bar"
#         "*": punctuation.md
#       }
#       "**": punctuation.md
#     }
#   }
# }

# FIXME multiline
# @391
# "**foo *bar **baz**"+
# "bim* bop**" {
#   source.text.md {
#     strong.emphasis.bold.markup.md {
#       "**": punctuation.md
#       "foo "
#       emphasis.italic.markup.md {
#         "*": punctuation.md
#         "bar "
#         strong.emphasis.bold.markup.md {
#           "**": punctuation.md
#           "baz"
#           "**": punctuation.md
#         }
#         " bim"
#         "*": punctuation.md
#       }
#       " bop"
#       "**": punctuation.md
#     }
#   }
# }

@392
"**foo [*bar*](/url)**" {
  source.text.md {
    strong.emphasis.bold.markup.md {
      "**": punctuation.md
      'foo '
      link.markup.entity.md {
        text.link.string.md {
          "[": punctuation.md
          emphasis.italic.markup.md {
            "*": punctuation.md
            "bar"
            "*": punctuation.md
          }
          "]": punctuation.md
        }
        "(": punctuation.md
        destination.link.md {
          "/url": uri.underline.link.md
        }
        ")": punctuation.md
      }
      "**": punctuation.md
    }
  }
}

@393
"__ is not an empty emphasis": source.text.md

@394
"____ is not an empty strong emphasis": source.text.md

@395
"foo ***": source.text.md

@396
"foo *\**" {
  source.text.md {
    "foo "
    emphasis.italic.markup.md {
      "*": punctuation.md
      "\*": escape.constant.md
      "*": punctuation.md
    }
  }
}

@397
"foo *_*" {
  source.text.md {
    "foo "
    emphasis.italic.markup.md {
      "*": punctuation.md
      "_"
      "*": punctuation.md
    }
  }
}

# FIXME
# @398
# "foo *****" {
#   "foo *****": source.text.md
# }

@399
"foo **\***" {
  source.text.md {
    "foo "
    strong.emphasis.bold.markup.md {
      "**": punctuation.md
      "\*": escape.constant.md
      "**": punctuation.md
    }
  }
}

@400
"foo **_**" {
  source.text.md {
    "foo "
    strong.emphasis.bold.markup.md {
      "**": punctuation.md
      "_"
      "**": punctuation.md
    }
  }
}

# FIXME
# @401
# "**foo*" {
#   source.text.md {
#     "*"
#     emphasis.italic.markup.md {
#       "*": punctuation.md
#       "foo"
#       "*": punctuation.md
#     }
#   }
# }

@402
"*foo**" {
  source.text.md {
    emphasis.italic.markup.md {
      "*": punctuation.md
      "foo"
      "*": punctuation.md
    }
    "*"
  }
}

# FIXME
# @403
# "***foo**" {
#   source.text.md {
#     "*"
#     strong.emphasis.bold.markup.md {
#       "**": punctuation.md
#       "foo"
#       "**": punctuation.md
#     }
#   }
# }

# FIXME
# @404
# "****foo*" {
#   source.text.md {
#     "***"
#     emphasis.italic.markup.md {
#       "*": punctuation.md
#       "foo"
#       "*": punctuation.md
#     }
#   }
# }

@405
"**foo***" {
  source.text.md {
    strong.emphasis.bold.markup.md {
      "**": punctuation.md
      "foo"
      "**": punctuation.md
    }
    "*"
  }
}

@406
"*foo****" {
  source.text.md {
    emphasis.italic.markup.md {
      "*": punctuation.md
      "foo"
      "*": punctuation.md
    }
    "***"
  }
}

@407
"foo ___" {
  "foo ___": source.text.md
}

@408
"foo _\__" {
  source.text.md {
    "foo "
    emphasis.italic.markup.md {
      "_": punctuation.md
      "\_": escape.constant.md
      "_": punctuation.md
    }
  }
}

@409
"foo _*_" {
  source.text.md {
    "foo "
    emphasis.italic.markup.md {
      "_": punctuation.md
      "*"
      "_": punctuation.md
    }
  }
}

# FIXME
# @410
# "foo _____" {
#   "foo _____": source.text.md
# }

@411
"foo __\___" {
  source.text.md {
    "foo "
    strong.emphasis.bold.markup.md {
      "__": punctuation.md
      "\_": escape.constant.md
      "__": punctuation.md
    }
  }
}

@412
"foo __*__" {
  source.text.md {
    "foo "
    strong.emphasis.bold.markup.md {
      "__": punctuation.md
      "*"
      "__": punctuation.md
    }
  }
}

# FIXME
# @413
# "__foo_" {
#   source.text.md {
#     "_"
#     emphasis.italic.markup.md {
#       "_": punctuation.md
#       "foo"
#       "_": punctuation.md
#     }
#   }
# }

# FIXME
# @414
# "_foo__" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       "_": punctuation.md
#       "foo"
#       "_": punctuation.md
#     }
#     "_"
#   }
# }

# FIXME
# @415
# "___foo__" {
#   source.text.md {
#     "_"
#     strong.emphasis.bold.markup.md {
#       "__": punctuation.md
#       "foo"
#       "__": punctuation.md
#     }
#   }
# }

# FIXME
# @416
# "____foo_" {
#   source.text.md {
#     "___"
#     emphasis.italic.markup.md {
#       "_": punctuation.md
#       "foo"
#       "_": punctuation.md
#     }
#   }
# }

# FIXME
# @417
# "__foo___" {
#   source.text.md {
#     strong.emphasis.bold.markup.md {
#       "__": punctuation.md
#       "foo"
#       "__": punctuation.md
#     }
#     "_"
#   }
# }

# FIXME
# @418
# "_foo____" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       "_": punctuation.md
#       "foo"
#       "_": punctuation.md
#     }
#     "___"
#   }
# }

@419
"**foo**" {
  source.text.md {
    strong.emphasis.bold.markup.md {
      "**": punctuation.md
      "foo"
      "**": punctuation.md
    }
  }
}

@420
"*_foo_*" {
  source.text.md {
    emphasis.italic.markup.md {
      "*": punctuation.md
      emphasis.italic.markup.md {
        "_": punctuation.md
        "foo"
        "_": punctuation.md
      }
      "*": punctuation.md
    }
  }
}

@421
"__foo__" {
  source.text.md {
    strong.emphasis.bold.markup.md {
      "__": punctuation.md
      "foo"
      "__": punctuation.md
    }
  }
}

@422
"_*foo*_" {
  source.text.md {
    emphasis.italic.markup.md {
      "_": punctuation.md
      emphasis.italic.markup.md {
        "*": punctuation.md
        "foo"
        "*": punctuation.md
      }
      "_": punctuation.md
    }
  }
}

# FIXME
# @423
# "****foo****" {
#   source.text.md {
#     strong.emphasis.bold.markup.md {
#       "**": punctuation.md
#       strong.emphasis.bold.markup.md {
#         "**": punctuation.md
#         "foo"
#         "**": punctuation.md
#       }
#       "**": punctuation.md
#     }
#   }
# }

@424
"____foo____" {
  source.text.md {
    strong.emphasis.bold.markup.md {
      "__": punctuation.md
      strong.emphasis.bold.markup.md {
        "__": punctuation.md
        "foo"
        "__": punctuation.md
      }
      "__": punctuation.md
    }
  }
}

# FIXME
# @425
# "******foo******" {
#   source.text.md {
#     strong.emphasis.bold.markup.md {
#       "**": punctuation.md
#       strong.emphasis.bold.markup.md {
#         "**": punctuation.md
#         strong.emphasis.bold.markup.md {
#           "**": punctuation.md
#           "foo"
#           "**": punctuation.md
#         }
#         "**": punctuation.md
#       }
#       "**": punctuation.md
#     }
#   }
# }

# FIXME
# @426
# "***foo***" {
#   source.text.md {
#     strong.emphasis.bold.markup.md {
#       "**": punctuation.md
#       emphasis.italic.markup.md {
#         "*": punctuation.md
#         "foo"
#         "*": punctuation.md
#       }
#       "**": punctuation.md
#     }
#   }
# }

@427
"_____foo_____" {
  source.text.md {
    strong.emphasis.bold.markup.md {
      "__": punctuation.md
      strong.emphasis.bold.markup.md {
        "__": punctuation.md
        emphasis.italic.markup.md {
          "_": punctuation.md
          "foo"
          "_": punctuation.md
        }
        "__": punctuation.md
      }
      "__": punctuation.md
    }
  }
}

@428
"*foo _bar* baz_" {
  source.text.md {
    emphasis.italic.markup.md {
      "*": punctuation.md
      "foo _bar"
      "*": punctuation.md
    }
    " baz_"
  }
}

# FIXME
# @429
# "**foo*bar**" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       "*": punctuation.md
#       emphasis.italic.markup.md {
#         "*": punctuation.md
#         "foo"
#         "*": punctuation.md
#       }
#       "*": punctuation.md
#     }
#     "*"
#   }
# }

@430
"*foo __bar *baz bim__ bam*" {
  source.text.md {
    emphasis.italic.markup.md {
      "*": punctuation.md
      "foo "
      strong.emphasis.bold.markup.md {
        "__": punctuation.md
        "bar *baz bim"
        "__": punctuation.md
      }
      " bam"
      "*": punctuation.md
    }
  }
}

# FIXME
# @431
# "**foo **bar baz**" {
#   source.text.md {
#     "**foo "
#     strong.emphasis.bold.markup.md {
#       "**": punctuation.md
#       "bar baz"
#       "**": punctuation.md
#     }
#   }
# }

# FIXME
# @432
# "*foo *bar baz*" {
#   source.text.md {
#     "*foo "
#     emphasis.italic.markup.md {
#       "*": punctuation.md
#       "bar baz"
#       "*": punctuation.md
#     }
#   }
# }

# FIXME
# @433
# "*[bar*](/url)" {
#   source.text.md {
#     "*"
#     link.md {
#       text.link.string.md {
#         "[": punctuation.md
#         "bar*"
#         "]": punctuation.md
#       }
#       "(": punctuation.md
#       "/url": destination.link.underline.markup.md
#       ")": punctuation.md
#     }
#   }
# }

# FIXME
# @434
# "_foo [bar_](/url)" {
#   source.text.md {
#     "_foo "
#     link.md {
#       text.link.string.md {
#         "[": punctuation.md
#         "bar_"
#         "]": punctuation.md
#       }
#       "(": punctuation.md
#       "/url": destination.link.underline.markup.md
#       ")": punctuation.md
#     }
#   }
# }

# TODO
# @435
# "*<img src="foo" title="*"/>" {
#
# }

# TODO
# @436
# "**<a href="**">" {
#
# }

# TODO
# @437
# "__<a href="__">" {
#
# }

# FIXME
# @438
# "*a `*`*" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       "*": punctuation.md
#       "a "
#       code.raw.markup.md {
#         "`": punctuation.md
#         "*"
#         "`": punctuation.md
#       }
#       "*": punctuation.md
#     }
#   }
# }

# FIXME
# @439
# "_a `_`_" {
#   source.text.md {
#     emphasis.italic.markup.md {
#       "_": punctuation.md
#       "a "
#       code.raw.markup.md {
#         "`": punctuation.md
#         "_"
#         "`": punctuation.md
#       }
#       "_": punctuation.md
#     }
#   }
# }

# TODO
# @440
# "**a<http://foo.bar/?q=**>" {
#
# }

# TODO
# @441
# "__a<http://foo.bar/?q=__>" {
#
# }
